"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateFetchedSnap = void 0;
const icon_1 = require("./icon.cjs");
const localization_1 = require("./localization.cjs");
const validation_1 = require("./manifest/validation.cjs");
const snaps_1 = require("./snaps.cjs");
/**
 * Validates the files contained in a fetched snap.
 *
 * @param files - All potentially included files in a fetched snap.
 * @throws If any of the files are considered invalid.
 */
async function validateFetchedSnap(files) {
    (0, validation_1.assertIsSnapManifest)(files.manifest.result);
    await (0, snaps_1.validateSnapShasum)(files);
    (0, localization_1.validateSnapManifestLocalizations)(files.manifest.result, files.localizationFiles.map((file) => file.result));
    if (files.svgIcon) {
        (0, icon_1.assertIsSnapIcon)(files.svgIcon);
    }
}
exports.validateFetchedSnap = validateFetchedSnap;
//# sourceMappingURL=validation.cjs.map