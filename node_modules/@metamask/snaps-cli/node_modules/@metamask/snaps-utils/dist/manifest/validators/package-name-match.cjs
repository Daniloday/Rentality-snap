"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.packageNameMatch = void 0;
const types_1 = require("../../types.cjs");
/**
 * Check if the package name in manifest matches package.json name.
 */
exports.packageNameMatch = {
    severity: 'error',
    semanticCheck(files, context) {
        const packageJsonName = files.packageJson.result.name;
        const manifestPackageName = files.manifest.result.source.location.npm.packageName;
        if (packageJsonName !== manifestPackageName) {
            context.report(`"${types_1.NpmSnapFileNames.Manifest}" npm package name ("${manifestPackageName}") does not match the "${types_1.NpmSnapFileNames.PackageJson}" "name" field ("${packageJsonName}").`, ({ manifest }) => {
                manifest.source.location.npm.packageName = packageJsonName;
                return { manifest };
            });
        }
    },
};
//# sourceMappingURL=package-name-match.cjs.map